---
allowed-tools: all
description: Generate specialized agents with smart prefix-based naming following established patterns
---

# ⚡⚡⚡ CRITICAL REQUIREMENT: CREATE PERFECTLY FORMATTED SPECIALIZED AGENT! ⚡⚡⚡

**THIS IS NOT A TEMPLATE COPYING TASK - THIS IS A CUSTOM AGENT GENERATION TASK!**

When you run `/create-agent`, you are REQUIRED to:

1. **ANALYZE** the user's agent requirements from $ARGUMENTS thoroughly
2. **CLASSIFY** agent category and apply smart prefix-based naming automatically
3. **STUDY** existing agent patterns to ensure perfect consistency
4. **GENERATE** a complete specialized agent following exact established style
5. **USE MULTIPLE AGENTS** for comprehensive agent creation:
   - Spawn one agent to analyze existing agent patterns and templates
   - Spawn another to classify category and determine optimal prefix
   - Spawn more agents for template selection and specialization
   - Say: "I'll spawn multiple agents to create this specialized agent with perfect consistency"
6. **DO NOT STOP** until:
   - ✅ Agent follows exact format and style of existing agents
   - ✅ Category classification and prefix assignment are correct
   - ✅ ALL required sections are present and properly formatted
   - ✅ Agent is contextually appropriate for the specified purpose
   - ✅ YAML front matter and markdown structure are perfect
   - ✅ Task tool integration patterns are properly implemented

**FORBIDDEN BEHAVIORS:**
- ❌ "Close enough to existing style" → NO! Follow the pattern EXACTLY!
- ❌ "Skip some sections to save time" → NO! Include ALL required sections!
- ❌ "Generic template will work" → NO! Create contextually specific content!
- ❌ "Wrong category prefix assignment" → NO! Analyze description thoroughly!
- ❌ Inconsistent formatting → NO! Match existing agents precisely!

**MANDATORY WORKFLOW:**
```
1. Requirements analysis → Parse user's agent description
2. IMMEDIATELY spawn agents for category classification and generation
3. CATEGORY DETECTION → Apply smart prefix assignment
4. Pattern study → Analyze existing agent structure exactly
5. Template selection → Choose appropriate base template
6. Custom generation → Create agent specific to user requirements
7. VERIFY format → Ensure perfect consistency with existing style
```

**YOU ARE NOT DONE UNTIL:**
- Agent follows exact format of existing agents
- Category classification and prefix assignment are correct
- All required sections are present and properly formatted
- Content is contextually appropriate for the specified purpose
- Agent is saved to **templates/agents/** directory
- Task tool integration patterns are properly implemented
- Agent can be spawned immediately via Task tool

---

🛑 **MANDATORY AGENT GENERATION PROTOCOL** 🛑
1. Re-read ~/.claude/CLAUDE.md RIGHT NOW
2. Check current TODO.md status
3. **SCAN templates/agents/ directory** for existing agent patterns
4. **APPLY category classification logic** to determine prefix and template
5. Analyze existing agents for pattern consistency

Execute comprehensive custom agent generation with ZERO tolerance for format deviations.

**FORBIDDEN SHORTCUT PATTERNS:**
- "The basic structure is similar" → NO, follow the EXACT pattern
- "Some sections don't apply" → NO, adapt sections to fit the purpose
- "Users will understand" → NO, maintain strict formatting consistency
- "Close enough formatting" → NO, precision is required
- "Generic agents work fine" → NO, create specific, specialized agents

You are creating a specialized agent for: $ARGUMENTS

Let me ultrathink about generating a perfectly formatted specialized agent that follows all established patterns.

🚨 **REMEMBER: Agent consistency is crucial for ecosystem integration!** 🚨

**Comprehensive Specialized Agent Generation Protocol:**

**Step 0: Agent Requirements Analysis**
Parse the agent description from $ARGUMENTS to identify:
- Primary agent purpose and specialized capability
- Target domain or process to be automated
- Required coordination patterns and integration points
- Task tool spawning requirements
- Category classification for smart prefix assignment

**Step 1: Smart Category Classification and Prefix Assignment**

**AGENT CATEGORY CLASSIFICATION:**
Analyze description for category keywords and apply smart prefix assignment:

**Testing Agents** (prefix: `test-`, `unit-`, `integration-`):
- Keywords: "test", "testing", "unit", "integration", "coverage", "spec", "validation"
- Template base: `test-orchestrator.md` or `unit-test-master.md`

**Milestone Agents** (prefix: `milestone-`):
- Keywords: "milestone", "planning", "execution", "coordination", "project", "roadmap"
- Template base: `milestone-coordinator.md`

**Code Quality Agents** (prefix: `code-`, `quality-`):
- Keywords: "quality", "lint", "format", "analyze", "review", "standards", "refactor"
- Template base: `code-quality-enforcer.md`

**Infrastructure Agents** (prefix: `git-`, `deploy-`, `build-`, `ci-`):
- Keywords: "git", "deploy", "build", "ci", "infrastructure", "automation", "pipeline"
- Template base: `git-operator.md`

**API/Service Agents** (prefix: `api-`, `service-`):
- Keywords: "api", "endpoint", "service", "integration", "rest", "graphql", "backend"
- Template base: `api-integration-tester.md`

**Generic Agents** (prefix: `utility-` or no prefix):
- No clear category match or explicitly generic purpose
- Template base: `orchestrator.md`

**Step 2: Pattern Analysis and Template Extraction**
Study existing agents to extract exact patterns:
- YAML front matter format and required fields
- Emoji usage patterns and intensity indicators
- Section headers and formatting conventions
- Mission statement structure and mandatory elements
- Task tool spawning patterns and coordination logic
- Quality gates and verification criteria

**Step 3: Multi-Agent Specialized Generation Strategy**
Deploy specialized generation agents for parallel development:

```
"I need to create a [CATEGORY] agent with smart prefix naming. I'll spawn generation agents:
- Agent 1: Analyze existing agent patterns and extract template structure
- Agent 2: Apply category classification and suggest optimal prefix
- Agent 3: Select appropriate template base and customize for purpose
- Agent 4: Generate agent-specific YAML front matter and core mission
- Agent 5: Create Task tool spawning patterns and coordination logic
- Agent 6: Validate against existing agents and ensure naming consistency
Let me generate this specialized agent with perfect pattern compliance..."
```

**Agent Structure Requirements:**

**AGENT YAML Front Matter (MANDATORY):**
```yaml
---
name: [category-prefix-name]
description: [Specific agent purpose with use cases and examples]
model: sonnet
---
```

**Agent Structure Pattern:**
- **Mission Statement** (🎯 CORE MISSION:)
- **Parallel Agent Deployment** (🚀 TRUE PARALLELISM VIA TASK TOOL)
- **Core Capabilities** (📊, 🔧, 🧠 sections)
- **Coordination Patterns** (📈, 🔄 sections)
- **Quality Gates** (✅, 🚨 sections)
- **Task Tool Integration** with standardized spawning patterns

**Core Requirements Section:**
- Numbered list (1-5 items) of specific actions required
- "USE MULTIPLE AGENTS" subsection with examples
- "DO NOT STOP" until criteria with ✅ checkmarks

**Forbidden Behaviors Section:**
- ❌ pattern with specific examples relevant to agent purpose
- Common mistakes and anti-patterns to avoid

**Mandatory Workflow:**
- Code block with numbered steps
- Clear progression from start to completion

**Completion Criteria:**
- "YOU ARE NOT DONE UNTIL:" section
- Specific, measurable completion requirements

**Main Protocol Section:**
- Detailed step-by-step execution protocol
- Step 0, 1, 2, etc. with specific requirements
- Checklists with [ ] checkbox format
- Quality requirements and standards

**Task Tool Spawning Strategy:**
- Specific examples of agent deployment
- Clear division of responsibilities
- Parallel execution patterns

**Anti-patterns Section:**
- ❌ forbidden behaviors specific to agent purpose
- Clear guidance on what NOT to do

**Final Sections:**
- Verification criteria for completion
- Final commitment with "I will" and "I will NOT" lists
- Remember statement
- Execution statement

**Agent Types and Adaptation Patterns:**

**Testing Agents** (🧪🧪🧪):
- Focus on comprehensive test orchestration
- Multiple testing agents for different aspects
- Test coverage and validation protocols
- Framework-specific testing strategies

**Milestone Agents** (🎯🎯🎯):
- Emphasis on project coordination and execution
- Parallel milestone agents for planning/execution
- Progress tracking and delivery gates
- Strategic planning requirements

**Code Quality Agents** (🔍🔍🔍):
- Zero-tolerance for quality issues
- Comprehensive analysis and enforcement
- Standards compliance requirements
- Code improvement protocols

**Step 4: Content Generation and Specialization**
Generate agent content specifically tailored to user requirements:
- Adapt emoji intensity to agent criticality
- Create contextually relevant forbidden behaviors
- Generate appropriate workflow steps
- Develop domain-specific checklists
- Create relevant Task tool spawning examples

**Content Quality Standards:**
- [ ] All sections present and properly formatted
- [ ] Content is specific to agent purpose (not generic)
- [ ] Examples are contextually relevant and actionable
- [ ] Formatting matches existing agents exactly
- [ ] YAML front matter is valid and complete
- [ ] Markdown structure follows established patterns

**Step 5: Format Validation and Consistency Check**
Verify the generated agent against existing patterns:
- [ ] YAML front matter format is identical
- [ ] Section headers follow exact capitalization and formatting
- [ ] Emoji patterns match intensity and purpose
- [ ] Workflow structure follows established format
- [ ] Task tool spawning examples follow established patterns
- [ ] Checklist formatting is consistent
- [ ] Final sections follow exact order and format

**Step 6: Intelligent Agent Placement Strategy**

**AGENT PLACEMENT:**
- **Target directory**: `templates/agents/` (NOT templates/commands/)
- **Naming convention**: Apply detected category prefix + descriptive name
- **Validation**: Check against existing agent names for uniqueness
- **Examples**:
  - Testing agent: `test-performance.md`, `unit-coverage.md`
  - Milestone agent: `milestone-tracker.md`
  - Code quality: `code-formatter.md`, `quality-auditor.md`
  - Infrastructure: `git-automation.md`, `deploy-coordinator.md`

**File Generation and Placement:**
- Generate appropriate filename based on category classification
- Save to **templates/agents/** directory
- Apply smart prefix naming before file creation
- Ensure file permissions are correct
- Validate file was created successfully in correct location

**Agent Quality Checklist:**
- [ ] Follows exact YAML front matter format (name, description, model)
- [ ] Category prefix applied correctly based on classification
- [ ] Name is unique and doesn't conflict with existing agents
- [ ] Mission statement follows 🎯 CORE MISSION pattern
- [ ] Task tool integration patterns included
- [ ] Parallel agent deployment section present
- [ ] Core capabilities properly structured (📊, 🔧, 🧠)
- [ ] Coordination patterns included (📈, 🔄)
- [ ] Quality gates defined (✅, 🚨)
- [ ] File saved to templates/agents/ directory

**Agent Creation Anti-patterns (FORBIDDEN):**
- ❌ "Wrong category prefix assignment" → NO, analyze description thoroughly
- ❌ "Skip Task tool integration patterns" → NO, all agents must spawn properly
- ❌ "Generic agent without specialization" → NO, create domain-specific agents
- ❌ "Duplicate existing agent functionality" → NO, validate uniqueness first
- ❌ "No coordination patterns" → NO, agents must integrate with ecosystem
- ❌ "Copy existing agent exactly" → NO, customize for specific purpose

**Template Adaptation Guidelines:**
- Maintain exact structure while adapting content
- Use domain-specific language and examples
- Ensure forbidden behaviors are contextually relevant
- Create appropriate success criteria for the purpose
- Generate realistic Task tool spawning scenarios

**Final Agent Generation Verification:**

**Agent Completion Criteria:**
✓ Category classification applied correctly with appropriate prefix
✓ Agent follows exact structure of existing agent templates
✓ YAML front matter includes name, description, model fields
✓ Mission statement and core capabilities clearly defined
✓ Task tool integration patterns properly implemented
✓ Coordination with existing agent ecosystem validated
✓ File is properly saved to templates/agents/
✓ Agent can be spawned immediately via Task tool

**Final Agent Generation Commitment:**
I will execute EVERY generation step and CREATE PERFECT SPECIALIZED AGENT. I will:
- ✅ Apply smart category classification with appropriate prefixes
- ✅ Analyze agent requirements thoroughly
- ✅ SPAWN MULTIPLE AGENTS for pattern analysis and generation
- ✅ Study existing agents to extract exact patterns
- ✅ Generate contextually specific and appropriately formatted agent
- ✅ Verify perfect consistency with established style and naming conventions
- ✅ Save completed agent to templates/agents/ directory

I will NOT:
- ❌ Create generic or template-based agents
- ❌ Skip category classification or prefix assignment steps
- ❌ Apply wrong prefixes or ignore naming conventions
- ❌ Skip any required sections or formatting
- ❌ Accept "close enough" pattern matching
- ❌ Generate agents that don't follow exact style
- ❌ Leave any formatting inconsistencies
- ❌ Stop working while any format deviations remain

**REMEMBER: This is a PERFECT SPECIALIZED AGENT GENERATION task, not template copying!**

The agent is complete ONLY when it follows exact patterns, uses correct naming conventions with smart prefixes, and serves the specific purpose perfectly.

**Executing comprehensive specialized agent generation NOW...**